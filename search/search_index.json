{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":""},{"location":"#what-is-habitus","title":"What is HABITUS?","text":"<p>Many people know habitus because of the French sociologist Pierre Bourdieu, who turned the concept into a cornerstone of his sociology. Bourdieu described that habitus refers to how individuals perceive the world around them and react to it, typically without thinking about their reaction. They react based on their previous experiences and preferences and what they perceive as socially appropriate behaviour in a particular social and spatial context.</p> <p>HABITUS (Human Activity Behavior Identification Tool and Data Unification System) is much like Bourdieu's habitus, a tool for analysing people's behaviour in different contexts. HABITUS is a package written in R for processing physical activity behaviour data collected with wearable devices. Its primary function is to merge and process timestamped data from accelerometer and global positioning system (GPS) devices and provide output files dividing physical activity levels into different contexts or domains.</p> <p>The importance of dividing physical activity into domains was recognised many years ago. However, for device-based measures, including contextual information is rare, and the expert group that developed the 2020 WHO guidelines identified a need for more information on domains of physical activity as one of the significant evidence gaps that need to be addressed in future studies. Combining device-based physical activity measures with contextual information is more complex in practice. One of the reasons is that the use of GPS devices to provide contextual information is not yet widespread, and the use of two devices generates much larger volume of data, and combining and processing this data is more complex.</p>"},{"location":"#what-does-habitus-do","title":"What does HABITUS do?","text":"<p>HABITUS merges and processes timestamped data from accelerometer and global positioning system (GPS) devices and provides output files dividing physical activity levels into different contexts or domains. In short, it makes processing accelerometer and GPS data easier.</p>"},{"location":"#habitus-builds-on-existing-software-tools","title":"HABITUS builds on existing software tools","text":"<p>We have not tried to reinvent the wheel in creating HABITUS but instead tried to save time and build on what other researchers have already created. HABITUS builds on existing software tools: GGIR and PALMSplus. The core functionality for merging and processing accelerometer and GPS data used in HABITUS has its background in PALMS (Personal Activity Location Measurement System), which became available in 2008. PALMS was developed by the Center for Wireless and Population Health System at the University of California, San Diego and has been serving many GPS researchers worldwide until 2018. All PALMS experiences and algorithms were carried over to HABITUS, securing backward compatibility. However, new functionality was added, e.g., raw accelerometer data processing using the GGIR accelerometer data processing package.</p>"},{"location":"#habitus-consists-of-three-separate-packages","title":"HABITUS consists of three separate packages","text":"<ol> <li>hbGPS \u2013 GPS data processing and merging with accelerometer data.</li> <li>hbGIS \u2013 Spatiotemporal behaviour patterns abalysis using geospatial data and data from hbGPS/PALMS.</li> <li>HabitusGUI \u2013 Simplified movement behaviour data analysis by combining GGIR, hbGPS, and hbGIS in a user-friendly interface.</li> </ol>"},{"location":"about/","title":"About","text":""},{"location":"about/#development","title":"Development","text":"<p>HABITUS has so far been developed to meet our own project needs. Code has been developed by Vincent van Hees. As we move forward we may encounter opportunities to enhance the functionality. If you have ideas for enhancements or encounter issues please report them to us here. If you would like to contribute and/or collaborate pplease email Jasper Schipperijn. Finally, if you use the HABITUS please make sure you cite the software names and version numbers that you used.</p>"},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#habitus-applications","title":"HABITUS applications","text":"<ol> <li>GGIR \u2013 Processing multi-day RAW accelerometer data for physical activity and sleep research.</li> <li>hbGPS \u2013 GPS data processing and merging with accelerometer data. [repository | description]</li> <li>hbGIS \u2013 Spatiotemporal behaviour patterns abalysis using geospatial data and data from hbGPS/PALMS. [repository | description]</li> <li>HabitusGUI \u2013 Simplified movement behaviour data analysis by combining GGIR, hbGPS, and hbGIS in a user-friendly interface. [repository]</li> <li>Docs \u2013 Habitus documentation web. [repository]</li> </ol>"},{"location":"resources/#alternatives","title":"Alternatives","text":"<p>Links to other accelerometer or GPS data processing software tools:</p> <ul> <li>MIMS-unit algorithm by Qu Tang and colleagues</li> <li>UK Biobank accelerometer analysis tools</li> <li>Accelerometer Repository by Kimberly Clevenger and colleagues</li> <li>Health Behavior in Space by Deborah Salvo and colleagues</li> <li>PyActigraphy by Gr\u00e9gory Hammad and colleagues</li> </ul>"},{"location":"resources/#theory-and-other-resource-materials","title":"Theory and other resource materials","text":""},{"location":"resources/#learning-resources","title":"Learning resources","text":"<p>The materials from presentations and courses will be made available here.</p> <ul> <li>Presentation by Jasper Schipperijn at the Nordic Seminar on Technical Measurements of Physical Activity and Sedentary Behaviour, June 2 and 3, 2022, in Trondheim, Norway.</li> <li>Presentation by Jasper Schipperijn at the ICAMPAM: Juni 21-24, 2022.</li> </ul>"},{"location":"resources/#publications","title":"Publications","text":"<p>We have created a comprehensive list of references and DOI links to papers practical when dealing with combined accelerometer and GPS data. If you know of any papers that should be included in this list, please email us with the reference (including the DOI link) to our contact email address.</p>"},{"location":"resources/#accelerometry","title":"Accelerometry","text":"<p>Migueles, J. H., Rowlands, A. V., Huber, F., Sabia, S., &amp; Hees, V. T. van. (2019). GGIR: A Research Community\u2013Driven Open Source R Package for Generating Physical Activity and Sleep Outcomes From Multi-Day Raw Accelerometer Data. https://journals.humankinetics.com/view/journals/jmpb/2/3/article-p188.xml</p>"},{"location":"resources/#conceptual-and-methodological-papers","title":"Conceptual and methodological papers","text":"<p>Jankowska, M. M., Schipperijn, J., &amp; Kerr, J. (2015). A Framework for Using GPS Data in Physical Activity and Sedentary Behavior Studies. Exercise and Sport Sciences Reviews, 43(1), 48\u201356. https://doi.org/10.1249/JES.0000000000000035</p> <p>Kerr, J., Duncan, S., &amp; Schipperjin, J. (2011). Using Global Positioning Systems in Health Research. American Journal of Preventive Medicine, 41(5), 532\u2013540. https://doi.org/10.1016/j.amepre.2011.07.017</p> <p>Meseck, K., Jankowska, M. M., Schipperijn, J., Natarajan, L., Godbole, S., Carlson, J., Takemoto, M., Crist, K., &amp; Kerr, J. (2016). Is missing geographic positioning system data in accelerometry studies a problem, and is imputation the solution? Geospatial Health, 11(2). https://doi.org/10.4081/gh.2016.403</p> <p>Schmidt, T., Kerr, J., Kestens, Y., &amp; Schipperijn, J. (2019). Challenges in using wearable GPS devices in low-income older adults: Can map-based interviews help with assessments of mobility? Translational Behavioral Medicine, 9(1), 99\u2013109. https://doi.org/10.1093/tbm/iby009</p> <p>Stewart, T., Schipperijn, J., Snizek, B., &amp; Duncan, S. (2017). Adolescent school travel: Is online mapping a practical alternative to GPS-assessed travel routes? Journal of Transport &amp; Health, 5, 113\u2013122. https://doi.org/10.1016/j.jth.2016.10.001</p>"},{"location":"resources/#review-papers","title":"Review papers","text":"<p>Krenn, P. J., Titze, S., Oja, P., Jones, A., &amp; Ogilvie, D. (2011). Use of Global Positioning Systems to Study Physical Activity and the Environment. American Journal of Preventive Medicine, 41(5), 508\u2013515. https://doi.org/10.1016/j.amepre.2011.06.046</p> <p>McCrorie, P. R., Fenton, C., &amp; Ellaway, A. (2014). Combining GPS, GIS, and accelerometry to explore the physical activity and environment relationship in children and young people\u2014A review. International Journal of Behavioral Nutrition and Physical Activity, 11(1), 93. https://doi.org/10.1186/s12966-014-0093-0</p> <p>Yi, L., Wilson, J. P., Mason, T. B., Habre, R., Wang, S., &amp; Dunton, G. F. (2019). Methodologies for assessing contextual exposure to the built environment in physical activity studies: A systematic review. Health &amp; Place, 60, 102226. https://doi.org/10.1016/j.healthplace.2019.102226</p>"},{"location":"resources/#validation-papers","title":"Validation papers","text":"<p>Schipperijn, J., Kerr, J., Duncan, S., Madsen, T., Klinker, C. D., &amp; Troelsen, J. (2014). Dynamic Accuracy of GPS Receivers for Use in Health Research: A Novel Method to Assess GPS Accuracy in Real-World Settings. Frontiers in Public Health, 2. https://doi.org/10.3389/fpubh.2014.00021</p>"},{"location":"resources/#examples-of-studies-that-have-used-combined-accelerometer-and-gps-data","title":"Examples of studies that have used combined accelerometer and GPS data","text":"<p>Alberico, C. O., Schipperijn, J., &amp; Reis, R. S. (2017). Use of global positioning system for physical activity research in youth: ESPA\u00c7OS Adolescentes, Brazil. Preventive Medicine, 103, S59\u2013S65. https://doi.org/10.1016/j.ypmed.2016.12.026</p> <p>Andersen, H. B., Christiansen, L. B., Klinker, C. D., Ersb\u00f8ll, A. K., Troelsen, J., Kerr, J., &amp; Schipperijn, J. (2017). Increases in Use and Activity Due to Urban Renewal: Effect of a Natural Experiment. American Journal of Preventive Medicine, 53(3), e81\u2013e87. https://doi.org/10.1016/j.amepre.2017.03.010</p> <p>Andersen, H. B., Christiansen, L. B., Pawlowski, C. S., &amp; Schipperijn, J. (2019). What we build makes a difference \u2013 Mapping activating schoolyard features after renewal using GIS, GPS and accelerometers. Landscape and Urban Planning, 191, 103617. https://doi.org/10.1016/j.landurbplan.2019.103617</p> <p>Andersen, H. B., Klinker, C. D., Toftager, M., Pawlowski, C. S., &amp; Schipperijn, J. (2015). Objectively measured differences in physical activity in five types of schoolyard area. Landscape and Urban Planning, 134, 83\u201392. https://doi.org/10.1016/j.landurbplan.2014.10.005</p> <p>Borner, K. B., Mitchell, T. B., Carlson, J. A., Kerr, J., Saelens, B. E., Schipperijn, J., Frank, L. D., Conway, T. L., Glanz, K., Chapman, J. E., Cain, K. L., &amp; Sallis, J. F. (2018). Latent profile analysis of young adolescents\u2019 physical activity across locations on schooldays. Journal of Transport &amp; Health, 10, 304\u2013314. https://doi.org/10.1016/j.jth.2018.05.010</p> <p>Carlson, J. A., Mitchell, T. B., Saelens, B. E., Staggs, V. S., Kerr, J., Frank, L. D., Schipperijn, J., Conway, T. L., Glanz, K., Chapman, J. E., Cain, K. L., &amp; Sallis, J. F. (2017). Within-person associations of young adolescents\u2019 physical activity across five primary locations: Is there evidence of cross-location compensation? International Journal of Behavioral Nutrition and Physical Activity, 14(1), 50. https://doi.org/10.1186/s12966-017-0507-x</p> <p>Carlson, J. A., Saelens, B. E., Kerr, J., Schipperijn, J., Conway, T. L., Frank, L. D., Chapman, J. E., Glanz, K., Cain, K. L., &amp; Sallis, J. F. (2015). Association between neighborhood walkability and GPS-measured walking, bicycling and vehicle time in adolescents. Health &amp; Place, 32, 1\u20137. https://doi.org/10.1016/j.healthplace.2014.12.008</p> <p>Carlson, J. A., Schipperijn, J., Kerr, J., Saelens, B. E., Natarajan, L., Frank, L. D., Glanz, K., Conway, T. L., Chapman, J. E., Cain, K. L., &amp; Sallis, J. F. (2016). Locations of Physical Activity as Assessed by GPS in Young Adolescents. Pediatrics, 137(1), e20152430. https://doi.org/10.1542/peds.2015-2430</p> <p>Crist, K., Jankowska, M. M., Schipperijn, J., Rosenberg, D. E., Takemoto, M., Zlatar, Z. Z., Natarajan, L., &amp; Benmarhnia, T. (2021). Change in GPS-assessed walking locations following a cluster-randomized controlled physical activity trial in older adults, results from the MIPARC trial. Health &amp; Place, 69, 102573. https://doi.org/10.1016/j.healthplace.2021.102573</p> <p>Crist, K., Schipperijn, J., Ryan, S., Appleyard, B., Godbole, S., &amp; Kerr, J. (2019). Fear Factor: Level of Traffic Stress and GPS Assessed Cycling Routes. Journal of Transportation Technologies, 09(01), 14\u201330. https://doi.org/10.4236/jtts.2019.91002</p> <p>Demant Klinker, C., Schipperijn, J., Toftager, M., Kerr, J., &amp; Troelsen, J. (2015). When cities move children: Development of a new methodology to assess context-specific physical activity behaviour among children and adolescents using accelerometers and GPS. Health &amp; Place, 31, 90\u201399. https://doi.org/10.1016/j.healthplace.2014.11.006</p> <p>Frehlich, L., Friedenreich, C., Nettel-Aguirre, A., Schipperijn, J., &amp; McCormack, G. R. (2018). Using Accelerometer/GPS Data to Validate a Neighborhood-Adapted Version of the International Physical Activity Questionnaire (IPAQ). Journal for the Measurement of Physical Behaviour, 1(4), 181\u2013190. https://doi.org/10.1123/jmpb.2018-0016</p> <p>Klinker, C. D., Schipperijn, J., Christian, H., Kerr, J., Ersb\u00f8ll, A. K., &amp; Troelsen, J. (2014). Using accelerometers and global positioning system devices to assess gender and age differences in children\u2019s school, transport, leisure and home based physical activity. International Journal of Behavioral Nutrition and Physical Activity, 11(1), 8. https://doi.org/10.1186/1479-5868-11-8</p> <p>Klinker, C. D., Schipperijn, J., Kerr, J., Ersb\u00c3\u00b8ll, A. K., &amp; Troelsen, J. (2014). Context-Specific Outdoor Time and Physical Activity among School-Children Across Gender and Age: Using Accelerometers and GPS to Advance Methods. Frontiers in Public Health, 2. https://doi.org/10.3389/fpubh.2014.00020</p> <p>Pawlowski, C. S., Andersen, H. B., Arvidsen, J., &amp; Schipperijn, J. (2019). Changing recess geographies: Children\u2019s perceptions of a schoolyard renovation project promoting physical activity. Children\u2019s Geographies, 17(6), 664\u2013675. https://doi.org/10.1080/14733285.2019.1582754</p> <p>Pawlowski, C. S., Andersen, H. B., Troelsen, J., &amp; Schipperijn, J. (2016). Children\u2019s Physical Activity Behavior during School Recess: A Pilot Study Using GPS, Accelerometer, Participant Observation, and Go-Along Interview. PLOS ONE, 11(2), e0148786. https://doi.org/10.1371/journal.pone.0148786</p> <p>Pizarro, A. N., Schipperijn, J., Andersen, H. B., Ribeiro, J. C., Mota, J., &amp; Santos, M. P. (2016). Active commuting to school in Portuguese adolescents: Using PALMS to detect trips. Journal of Transport &amp; Health, 3(3), 297\u2013304. https://doi.org/10.1016/j.jth.2016.02.004</p> <p>Pizarro, A. N., Schipperijn, J., Ribeiro, J. C., Figueiredo, A., Mota, J., &amp; Santos, M. P. (2017). Gender Differences in the Domain-Specific Contributions to Moderate-to-Vigorous Physical Activity, Accessed by GPS. Journal of Physical Activity and Health, 14(6), 474\u2013478. https://doi.org/10.1123/jpah.2016-0346</p> <p>Skau Pawlowski, C., Bondo Andersen, H., &amp; Schipperijn, J. (2020). Difference in Outdoor Time and Physical Activity During Recess After Schoolyard Renewal for the Least-Active Children. Journal of Physical Activity and Health, 17(10), 968\u2013976. https://doi.org/10.1123/jpah.2019-0270</p> <p>Stappers, N. E. H., Schipperijn, J., Kremers, S. P. J., Bekker, M. P. M., Jansen, M. W. J., De Vries, N. K., &amp; Van Kann, D. H. H. (2021). Combining Accelerometry and GPS to Assess Neighborhood-Based Physical Activity: Associations With Perceived Neighborhood Walkability. Environment and Behavior, 53(7), 732\u2013752. https://doi.org/10.1177/0013916520906485</p> <p>Stewart, T., Duncan, S., Chaix, B., Kestens, Y., Schipperijn, J., &amp; Schofield, G. (2015). A novel assessment of adolescent mobility: A pilot study. International Journal of Behavioral Nutrition and Physical Activity, 12(1), 18. https://doi.org/10.1186/s12966-015-0176-6</p> <p>Stewart, T., Duncan, S., &amp; Schipperijn, J. (2017). Adolescents who engage in active school transport are also more active in other contexts: A space-time investigation. Health &amp; Place, 43, 25\u201332. https://doi.org/10.1016/j.healthplace.2016.11.009</p> <p>Van Kann, D. H. H., De Vries, S. I., Schipperijn, J., De Vries, N. K., Jansen, M. W. J., &amp; Kremers, S. P. J. (2016). Schoolyard Characteristics, Physical Activity, and Sedentary Behavior: Combining GPS and Accelerometry. Journal of School Health, 86(12), 913\u2013921. https://doi.org/10.1111/josh.12459</p> <p>Van Kann, D. H. H., Kremers, S. P. J., Gubbels, J. S., Bartelink, N. H. M., De Vries, S. I., De Vries, N. K., &amp; Jansen, M. W. J. (2015). The Association Between the Physical Environment of Primary Schools and Active School Transport. Environment and Behavior, 47(4), 418\u2013435. https://doi.org/10.1177/0013916513519644</p> <p>Vanwolleghem, G., Schipperijn, J., Gheysen, F., Cardon, G., De Bourdeaudhuij, I., &amp; Van Dyck, D. (2016). Children\u2019s GPS-determined versus self-reported transport in leisure time and associations with parental perceptions of the neighborhood environment. International Journal of Health Geographics, 15(1), 16. https://doi.org/10.1186/s12942-016-0045-9</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/","title":"Spatiotemporal behaviour analysis","text":""},{"location":"examples/spatiotemporal_behaviour_analysis/#1-introduction","title":"1. Introduction","text":"<p>The examples offer comprehensive guidance on processing data through the entire Habitus pipeline, resulting in obtaining spatiotemporal behaviour analysis. The results provide information on participants' behaviour based on geospatial data from GPS sensors (\"where\") and physical activity information (\"what\") from accelerometer sensors, along with additional details such as total wear and non-wear time for including/excluding participants.</p> <p>When we use the term \"where,\" we refer to the summarized information that shows the accumulated duration of \"what\" in specified domains: total wear and non-wear; total physical activity in intensity categories (light, moderate, vigorous); total sedentary behaviour. The researcher specifies these domains (\"where's\") as GIS (Geographic Information System) data information, including geometry polygons and paths for homes, neighbourhoods, schools, and other relevant locations. This means, for example, that we can obtain information about how much light activity a participant engages in at school, home, neighbourhood, or during transport. The exported results are always calculated as total values for each participant and their corresponding day.</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/#2-example-data","title":"2. Example data","text":"<p>The example is derived from the data collected through the ActiGraph accelerometer and GPS sensors manufactured by Qstarz. The accelerometer data is available in CSV format and measured in counts metric, exported by Actilife software. Similarly, GPS data is available in CSV format and exported by Qstarz's official software.</p> <p>GIS data was prepared in QGIS and exported as shapefiles in the WGS84 CRS (Coordinate Reference System), the default format for GPS sensors.</p> <p>The data provided are based on three participants who attend the same school but live in different neighbourhoods. Here is the link to download the sample data.</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/#3-working-directory","title":"3. Working directory","text":"<p>After downloading the example files and unzipping them, you are going to see a structure of directories as shown below (Figure 1). The \"output\" folder will contain processed files. Other files follow the structure of the example data.</p> Figure 1 Directory structure"},{"location":"examples/spatiotemporal_behaviour_analysis/#4-install-and-launch-habitusgui","title":"4. Install and launch HabitusGUI","text":"<p>Before processing, install necessary software and packages for HabitusGUI. Detailed installation information can be found here.</p> <pre><code>install.packages(\"remotes\")\nremotes::install_github(\"habitus-eu/HabitusGUI\", dependencies=TRUE)\ninstall.packages(\"actilifecounts\")\n</code></pre> <p>After installing HabitusGUI, execute the R code below to initialize the application. Remember to specify the correct directory. If HabitusGUI and the other necessary requirements were installed correctly, the HabitusGUI app will launch and a window with the application will appear.</p> <pre><code>library(HabitusGUI)\noptions(\"sp_evolution_status\" = 2)\nHabitusGUI::myApp(homedir=\"C:/study\")\n</code></pre>"},{"location":"examples/spatiotemporal_behaviour_analysis/#5-selecting-analysis-type-and-required-packages","title":"5. Selecting analysis type and required packages","text":"<p>The user can then choose from several different types of analysis based on their input data. Since we will be processing data from accelerometer and GPS sensors to obtain the spatiotemporal behaviour of participants, we need to ensure that the following options are checked:</p> <ul> <li>Acceleration (all formats accepted by GGIR)</li> <li>GPS (in .csv format)</li> <li>GIS (shape files + optionally linkage file)</li> </ul> <p>For this analysis, all packages must also be checked, which include GGIR, hbGPS, and hbGIS (as shown in Figure 2). Hit next! </p> Figure 2 Selecting analysis type and required packages"},{"location":"examples/spatiotemporal_behaviour_analysis/#6-data-selection","title":"6. Data selection","text":"<p>The next step is to choose the relevant data for analysis, providing and matching multiple directories and files (refer to Figure 3).</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/#accelerometry-and-gps-data","title":"Accelerometry and GPS data","text":"<p>The first files to be mapped are self-explanatory: data from sensors (accelerometer and GPS).</p> <ul> <li>Accelerometry - ActiGraph counts in CSV format.</li> <li>GPS - Qstarz (CRS: WSG84) in CSV format.</li> </ul> <p>It's crucial to maintain consistency in file names. For example, a participant's accelerometry file should have the same name as their corresponding GPS file. Various methods exist for extracting IDs from files. For more details, refer to the GGIR documentation.</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/#gis-data-and-linkage-file","title":"GIS data and linkage file","text":"<p>Geometry files created with QGIS contain information about the locations of homes and schools, along with details about their neighbourhoods. These files must have a Coordinate Reference System (CRS) set and include information in the attribute table for matching participant IDs with the corresponding polygons. For each home and its neighbourhood, an attribute called \"identifier\" needs to be set for every polygon, and the same goes for schools (using the \"school_id\" attribute). After that, a linkage file matches participants' IDs with the corresponding polygons.</p>"},{"location":"examples/spatiotemporal_behaviour_analysis/#output-and-dataset-name","title":"Output and dataset name","text":"<p>Finally, provide where the processed data should be saved and how to name the processed dataset.</p> Figure 3 Data selection"},{"location":"examples/spatiotemporal_behaviour_analysis/#7-parameter-configuration","title":"7. Parameter configuration","text":"<p>The next step involves parameter configuration, specifically loading configuration files for the following processes:</p> <ol> <li>GGIR \u2013 configuration for processing accelerometry data with GGIR.</li> <li>hbGPS \u2013 parameters for processing GPS data and then combining it with accelerometry data processed from GGIR. It is essential to provide the correct date and time format and timezone and specify parameters for trip identification.</li> <li>hbGIS \u2013 parameters and rules for GIS processing to obtain contextual information on participants' behaviour, focusing on \"what\" and \"where\".</li> </ol> Figure 4 Parameter configuration"},{"location":"examples/spatiotemporal_behaviour_analysis/#8-analyses","title":"8. Analyses","text":"<p>Now is the time to perform the analysis. Execute each analysis in the specified order, and the results will be generated in the output file (Figure 5).</p> Figure 5 Analyses <p>After the processing is completed without any errors, you will find the following directories and files in your output folder:</p> <ul> <li>output_acl \u2013 This contains processed data by GGIR.</li> <li>hbGPSoutput \u2013 Includes individual participant files and a combined file of all participants in a legacy PALMS format, combining accelerometry and GPS data with contextual information about trips.</li> <li>hbGIS_output \u2013 Contains files processed by hbGIS with contextual information about locations \u2013 what, where (Figure 6).</li> </ul> Figure 6 Proccessed (daily summaries)"},{"location":"gis/","title":"hbGIS","text":"<p>Note</p> <p>The package repository is available here. For technical details, please refer to the description.</p> <p>R package for analyzing spatiotemporal behaviour patterns using geospatial data and output from hbGPS or PALMS. Inspired by palmsplusr, hbGIS offers features to answer questions about when, where, and what:</p> <ul> <li>How much time participants spend in parks?</li> <li>How much moderate to vigorous physical activity (MVPA) is accumulated in parks?</li> <li>What proportion of sedentary time is accumulated during vehicular travel?</li> <li>What is the average distance of home-to-school trips?</li> <li>How much MVPA is accumulated inside the schoolyard during school time?</li> <li>What proportion of commuters use different travel modes in their trip chain (e.g., walk-bus-walk)?</li> <li>What is the average speed of bicycle trips during peak travel times?</li> </ul>"},{"location":"gis/#installation","title":"Installation","text":"<pre><code>install.packages(\"remotes\") # (1)!\nremotes::install_github(\"wadpac/GGIR\") # (2)!\nremotes::install_github(\"habitus-eu/hbGIS\") # (3)!\n</code></pre> <ol> <li>R package for installation from remote repositories (Github).</li> <li>Installing GGIR package from GitHub repository.</li> <li>Installing hbGIS package from GitHub repository.</li> </ol> <p>Warning</p> <p>When installing packages, you may be prompted to update to more recent versions. We recommend updating all the packages.</p>"},{"location":"gis/#usage","title":"Usage","text":"<p>Before using the hbGIS package to process spatiotemporal behaviour patterns, two additional files must be prepared: a linkage and configuration files.</p>"},{"location":"gis/#1-required-files-for-hbgis-analysis","title":"1. Required files for hbGIS analysis","text":""},{"location":"gis/#linkage-file","title":"Linkage file","text":"<p>The linkage file is a CSV file that contains three specific columns:</p> Column Description <code>identifier</code> Used to identify a participant. This is necessary to link shape files with processed hbGPS output. <code>x_id</code> This approach organizes data based on both location and time. For instance, a school building (represented as a polygon) can be linked to a group of students (identified by a school_id). Additionally, you can create further groupings within the data (e.g., by class_id). <p>Note</p> <p>The gislinkagefile requires one or more columns containing location IDs, named with the suffix \"_id\". For instance, a column named \"school_id\" would connect entries (identifiers) to schools.</p> <p>An example of a linkage file can be downloaded here.</p>"},{"location":"gis/#configuration-file","title":"Configuration file","text":"<p>To use hbGIS, a configuration file must be provided. Further information on processing and the configuration file can be found here.</p> Column Description <code>context</code> palmplusr fields tables (TO-DO: List of contexts...) <code>name</code> User specified name of formula <code>formula</code> Formula (see more at palmsplur) <code>is_where_field</code> <code>after_conversion</code> <p>An example of a configuration file can be downloaded here.</p>"},{"location":"gis/#2-analysis","title":"2. Analysis","text":""},{"location":"gis/#configuration","title":"Configuration","text":"Parameter Description <code>gisdir</code> Path to input shape file or folder with shapes. <code>palmsdir</code> Path to input file or folder (hbGPS/PALMS). <code>gislinkfile</code> Path to linkage file. <code>outputdir</code> Path to output folder. <code>dataset_name</code> User specified project name. <code>configfile</code> Path to configuration file. <code>baselocation</code> Base for individuals (leave empty if not available). <code>groupinglocation</code> Grouping for individuals (leave empty if not available). <code>write_shp</code> Store shape files as output. <code>split_GIS</code> Split GIS files in sublocations (only for public places). <code>sublocationID</code> Column name in GIS file to identify sublocation. <p>Note</p> <p>GIS filenames are used as location names and at the moment the code can only handle names that are shorter than 6 characters.</p>"},{"location":"gis/#example","title":"Example","text":"<pre><code>library(hbGIS)\n\nhbGIS(gisdir = \"C:/path_to_input_gis_file/or/folder\",\n      palmsdir = \"C:/path_to_hbgps_or_palms_output_folder\",\n      gislinkfile = \"C:/path_to_linkage_file/participant_basis.csv\",\n      outputdir = \"C:/path_to_output_folder\",\n      dataset_name = \"project_name\",\n      configfile = \"C:/path_to_config_file/palmsplus.csv\",\n      baselocation = \"home\",\n      groupinglocation = \"school\",\n      write_shp = FALSE, \n      split_GIS = TRUE, \n      sublocationID = \"ID_NR\")\n</code></pre>"},{"location":"gis/#output-files","title":"Output files","text":"<p>hbGIS will generate four output files.</p> Filename Description <code>datasetname_whenwhatwhere</code> Time series with information about when and where things happened. <code>datasetname_days.csv</code> Day-level summaries. <code>datasetname_trajectories</code> Trajectory-based summaries. <code>datasetname_multimodal</code> Breakdown of trajectories by mode of transport."},{"location":"gis/#used-abbrevations","title":"Used abbrevations","text":"Abbrevation Description <code>mot</code> mode of transport <code>iov</code> indoor-outdoor-vehicle <code>nbh</code> neighbourhood <code>dow</code> day of week"},{"location":"gis/#license","title":"License","text":"<p>This project is licensed under the terms of the GNU Lesser General Public License v2.1.</p>"},{"location":"gps/","title":"hbGPS","text":"<p>Note</p> <p>The package repository is available here. For technical details, please refer to the description.</p> <p>R package for GPS data processing and merging with accelerometer data. The package provides a pipeline that performs the following:</p> <ul> <li>Loading GPS CSV files, with the aim of making this process flexible to most common formats. </li> <li>Taking timezone into account when interpreting timestamps. </li> <li>Calculating signal-to-noise ratio (SNR) in GPS data. </li> <li>Detecting and removing outliers in speed and elevation. </li> <li>Calculating distance and speed. </li> <li>Distinguishing between indoor and outdoor activities. </li> <li>Detecting trips and allowing for breaks in between them. </li> <li>Merging GGIR time series output data to work with various accelerometer brands and data formats. </li> <li>Granting users control over crucial parameters.</li> </ul>"},{"location":"gps/#installation","title":"Installation","text":"<pre><code>install.packages(\"remotes\") # (1)!\nremotes::install_github(\"wadpac/GGIR\") # (2)!\nremotes::install_github(\"habitus-eu/hbGPS\") # (3)!\n\n# Optional packages\ninstall.packages(pkgs = c(\"actilifecounts\", \"ActCR\", \"GGIRread\", \"read.gt3x\", \"readxl\")) # (3)!\n</code></pre> <ol> <li>R package for installation from remote repositories (Github).</li> <li>Installing the GGIR package from GitHub repository.</li> <li>Installing the hbGPS package from GitHub repository.</li> <li>Install these packages to process accelerometer files in counts or use other GGIR functionalities.</li> </ol> <p>Warning</p> <p>When installing packages, you may be prompted to update to more recent versions. We recommend updating all the packages.</p>"},{"location":"gps/#usage","title":"Usage","text":"<p>If you want to use hbGPS to merge accelerometer and GPS data, you need to process the accelerometer data first using the GGIR package. Once you have processed the accelerometer data, you can merge it with GPS data using hbGPS.</p>"},{"location":"gps/#1-processing-accelerometer-data-with-ggir","title":"1. Processing accelerometer data with GGIR","text":"<p>There are two pipelines available for processing accelerometer data with GGIR, depending on whether the data is in RAW accelerometer format or already in counts. For explanation of GGIR parameters and additional information on how to use the GGIR package, see the documentation.</p>"},{"location":"gps/#raw-data","title":"RAW data","text":"<pre><code>library(GGIR)\n\nGGIR(datadir = \"C:/path/to/your/data/folder\",\n     outputdir = \"C:/path/to/your/output/folder\",\n     mode = c(1:5),\n     overwrite = TRUE,\n     do.report = c(),\n     windowsizes = c(5, 900, 3600),\n     includedaycrit = 10,\n     includenightcrit = 10,\n     part5_agg2_60seconds = TRUE,\n     HASPT.algo = \"NotWorn\",\n     HASIB.algo = \"NotWorn\",\n     HASPT.ignore.invalid = FALSE,\n     threshold.mod = c(100, 120),\n     boutdur.in = c(25, 30),\n     ignorenonwear = FALSE,\n     save_ms5rawlevels = TRUE,\n     save_ms5raw_without_invalid = FALSE)\n</code></pre>"},{"location":"gps/#counts-data","title":"Counts data","text":"<pre><code>library(GGIR)\n\nacc_thresholds = c(100, 2500, 10000, 15000) # (1)!\nacc_thresholds = acc_thresholds * c(5/60) # (2)!\nacc_thresholds = round(acc_thresholds, digits = 2) # (3)!\n\nGGIR(datadir = \"C:/path/to/your/data/folder\",\n     outputdir = \"C:/path/to/your/output/folder\",\n     dataFormat = \"actigraph_csv\",\n     mode = 1:5,\n     overwrite = FALSE,\n     do.report = c(2),\n     windowsizes = c(1, 900, 3600),\n     threshold.lig = acc_thresholds[1],\n     threshold.mod = acc_thresholds[2],\n     threshold.vig = acc_thresholds[3],\n     extEpochData_timeformat = \"%Y/%m/%d %H:%M:%S\",\n     do.neishabouricounts = TRUE,\n     acc.metric = \"NeishabouriCount_x\",\n     HASPT.algo = \"NotWorn\",\n     HASIB.algo = \"NotWorn\",\n     boutdur.mvpa = 10, # (4)!\n     boutdur.in = 30,\n     boutdur.lig = 10,\n     do.visual = TRUE,\n     includedaycrit = 10,\n     includenightcrit = 10,\n     visualreport = FALSE,\n     outliers.only = FALSE,\n     save_ms5rawlevels = TRUE,\n     ignorenonwear = FALSE,\n     HASPT.ignore.invalid = FALSE,\n     save_ms5raw_without_invalid = FALSE)\n</code></pre> <ol> <li>Light (2500), moderate (10000), and vigorous PA (15000) thresholds.</li> <li>Assumes GGIR's default epoch length of 5 seconds.</li> <li>Rounding thresholds to two decimal places.</li> <li>Parameters boutdur.mvpa, boutdur.in and boutdur.lig can also be vectors.</li> </ol>"},{"location":"gps/#2-merge-gps-and-accelerometer-data-with-hbgps","title":"2. Merge GPS and accelerometer data with hbGPS","text":"<p>If your accelerometer data were processed by the GGIR package, you can merge them with GPS files using the hbGPS package.</p>"},{"location":"gps/#configuration","title":"Configuration","text":"Parameter Description <code>idloc</code> Option to find participant ID. More on methods of finding ID can be found in GGIR documentation. <code>gps_file</code> Path to input file or folder. <code>outputDir</code> Path to output folder. <code>GGIRpath</code> Path to GGIR output folder (ms5). <code>outputFormat</code> indoor-outdoor-vehicle. <code>time_format</code> Correct date and time format. <code>tz</code> Timezone in which experiments took place (TZ identifier list). <code>AccThresholds</code> Acceleration thresholds corresponding to the intensity levels. <code>maxBreakLengthSeconds</code> Maximum trip break duration in seconds. <code>minTripDist_m</code> Minimum trip distance in meters. <code>minTripDur</code> Minimum trip duration seconds. <code>threshold_snr</code> Threshold for SNR. <code>threshold_snr_ratio</code> Threshold for SNR ratio."},{"location":"gps/#example","title":"Example","text":"<pre><code>library(hbGPS)\n\nacc_thresholds = c(100, 2500, 10000, 15000) # (1)!\nacc_thresholds = acc_thresholds * c(5/60) # (2)!\nacc_thresholds = round(acc_thresholds, digits = 2) # (3)!\n\nhbGPS(idloc = 2,\n      gps_file = \"C:/path_to_input_file/or/folder\",\n      outputDir = \"C:/path_to_output_folder\",\n      GGIRpath = \"C:/path_to_GGIR_output_folder/meta/ms5.outraw\", # (4)!,\n      outputFormat = \"PALMS\",\n      time_format = \"%Y/%m/%d %H:%M:%S\",\n      tz = \"Europe/Copenhagen\",\n      AccThresholds = acc_thresholds, # (5)!\n      maxBreakLengthSeconds = 120,\n      minTripDur = 60,\n      minTripDist_m = 100,\n      threshold_snr = 225,\n      threshold_snr_ratio = 50)\n</code></pre> <ol> <li>Light (2500), moderate (10000), and vigorous PA (15000) thresholds.</li> <li>Assumes GGIR's default epoch length of 5 seconds.</li> <li>Rounding thresholds to two decimal places.</li> <li>The assumption is that GGIR has already been executed, and an output folder has been created.</li> <li>Instead of specifying a thresholds for the accelerometer, you can use the \"default\" option.</li> </ol>"},{"location":"gps/#license","title":"License","text":"<p>This project is licensed under the terms of the Apache License 2.0.</p>"},{"location":"gui/","title":"HabitusGUI","text":"<p>Note</p> <p>The package repository is available here.</p> <p>HabitusGUI simplifies movement behaviour data analysis by combining GGIR, hbGPS, and hbGIS in a user-friendly interface with several analysis options that perform the following:</p> <ol> <li>Processing multi-day RAW accelerometer data for physical activity and sleep research (via GGIR package).</li> <li>Analyzing spatiotemporal behaviour patterns using geospatial data (via hbGPS, hbGIS).</li> </ol>"},{"location":"gui/#installation","title":"Installation","text":"<p>The R language must be installed as a prerequisite. We highly recommend using RStudio, an IDE that simplifies working with R. The next step is to install the required R packages.</p> <pre><code>install.packages(\"remotes\") # (1)!\nremotes::install_github(\"habitus-eu/HabitusGUI\", dependencies=TRUE) # (2)!\n\n# Optional packages\ninstall.packages(pkgs = c(\"actilifecounts\", \"ActCR\", \"GGIRread\", \"read.gt3x\", \"readxl\")) # (3)!\n</code></pre> <ol> <li>R package for installation from remote repositories (Github).</li> <li>Installing the actilifecounts package for processing accelerometer files in counts.</li> <li>Install these packages to process accelerometer files in counts or use other GGIR functionalities.</li> </ol> <p>Warning</p> <p>When installing packages, you may be prompted to update to more recent versions. We recommend updating all the packages.</p>"},{"location":"gui/#usage","title":"Usage","text":"<p>In order to launch the HabitusGUI application, the user needs to execute the following lines of code:</p> <pre><code>library(HabitusGUI)\n\noptions(\"sp_evolution_status\" = 2) # (1)!\nHabitusGUI::myApp(homedir=\"C:/path_to_project/folder\") # (2)!\n</code></pre> <ol> <li>Ignore evolution warnings.</li> <li>A directory that contains all necessary data in its root or subdirectories.</li> </ol> <p>Upon launching the HabitusGUI application, the user will be prompted to select the desired analyses (Figure 1). For more information on how to use HabitusGUI, please refer to the provided example.</p> Figure 1 Selecting analysis type and required packages"},{"location":"gui/#configuration-files","title":"Configuration files","text":"<p>Examples of configuration files to download include:</p> <ol> <li>GGIR (data in RAW format or counts)</li> <li>hbGPS</li> <li>hbGIS</li> </ol>"}]}